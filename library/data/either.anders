module either where

def +Ï‰ (n : L) (A B : U n) : U n := Î£ (x : ğŸ), indâ‚‚ (Î» (_ : ğŸ), U n) A B x
def + (A B : U) : U := +Ï‰ Lâ‚€ A B

def inl (A B : U) (a : A) : + A B := (0â‚‚, a)
def inr (A B : U) (b : B) : + A B := (1â‚‚, b)

def +-indÏ‰ (n m : L) (A B : U n) (C : +Ï‰ n A B â†’ U m)
  (f : Î  (x : A), C (0â‚‚, x)) (g : Î  (y : B), C (1â‚‚, y)) (w : +Ï‰ n A B) : C w :=
indâ‚‚ (Î» (x : ğŸ), Î  (y : indâ‚‚ (Î» (_ : ğŸ), U n) A B x), C (x, y)) f g w.1 w.2

def +-recÏ‰ (n m : L) (A B : U n) (C : U m) (f : A â†’ C) (g : B â†’ C) : (+Ï‰ n A B) â†’ C :=
+-indÏ‰ n m A B (Î» (w : +Ï‰ n A B), C) f g

def +-ind := +-indÏ‰ Lâ‚€ Lâ‚€
def +-rec := +-recÏ‰ Lâ‚€ Lâ‚€

def +-Î²â‚ (A B : U) (C : + A B â†’ U) (a: A) (f : Î  (x : A), C (inl A B x)) (g : Î  (y : B), C (inr A B y)) :
  PathP (<_>C (inl A B a)) (f a) (+-ind A B C f g (inl A B a)) :=
<_> f a

def +-Î²â‚‚ (A B : U) (C : + A B â†’ U) (b: B) (f : Î  (x : A), C (inl A B x)) (g : Î  (y : B), C (inr A B y)) :
  PathP (<_>C (inr A B b)) (g b) (+-ind A B C f g (inr A B b)) :=
<_> g b

def +-Î· (A B : U) (c : + A B) :
  + (Î£ (x : A), PathP (<_> + A B) c (inl A B x))
    (Î£ (y : B), PathP (<_> + A B) c (inr A B y)) :=
+-ind A B (Î» (c : + A B),
  + (Î£ (x : A), PathP (<_> + A B) c (inl A B x))
    (Î£ (y : B), PathP (<_> + A B) c (inr A B y)))
  (Î» (x : A), (0â‚‚, (x, <_> (0â‚‚, x))))
  (Î» (y : B), (1â‚‚, (y, <_> (1â‚‚, y)))) c
