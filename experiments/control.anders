module control where
option girard true

def return_sig (F: U → U): U₁ := Π (A: U), A → F A
def ap_sig     (F: U → U): U₁ := Π (A B: U), F (A → B) → F A → F B
def fmap_sig   (F: U → U): U₁ := Π (A B: U), (A → B) → F A → F B
def join_sig   (F: U → U): U₁ := Π (A: U), F (F A) → F A

def pure:        U₁ := Σ (F: U → U) (return: return_sig F), 𝟏
def functor:     U₁ := Σ (F: U → U) (fmap: fmap_sig F), 𝟏
def applicative: U₁ := Σ (F: U → U) (return: return_sig F)
                                    (fmap: fmap_sig F)
                                    (ap: ap_sig F), 𝟏
def monad:       U₁ := Σ (F: U → U) (return: return_sig F)
                                    (fmap: fmap_sig F)
                                    (join: join_sig F), 𝟏

def join (m: monad) := m.join

